<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday!</title>
  <link rel="stylesheet" href="css/gifts_style.css" />
</head>

<body>

  <!-- Friends Card-->
  <div class="card">
    <div class="inner">
      <div class="front">
        <h3>Your friends have something to say 👬🏻!</h3>
        <img src="images/gift-cover.jpeg" alt="Friends Icon">
      </div>
      <div class="back">
        <video src="videos/moo's-friends.mp4" autoplay></video>
      </div>
    </div>
  </div>
  <!-- Mom message card-->
  <div class="card">
    <div class="inner">
      <div class="front">
        <h3>A little message from Mom 💬! 🤨</h3>
        <img src="images/gift-cover.jpeg" alt="Gift Box">
      </div>
      <div class="back">
        <img src="images/message.webp" alt="You are My Bestie">
      </div>
    </div>
  </div>
  <!-- Memory card-->
  <div class="card">
    <div class="inner">
      <div class="front">
        <h3>Let me remind you of a happy memory! 😍</h3>
        <img src="images/gift-cover.jpeg" alt="Gift Box">
      </div>
      <div class="back">
        <img src="images/FB_img.jpg" alt="Moo as a football player">
      </div>
    </div>
  </div>
  <!-- Mo and Mom memories-->
  <div class="card">
    <div class="inner">
      <div class="front">
        <h3>Who loves you the most! 😈😈😈</h3>
        <img src="images/gift-cover.jpeg" alt="Gift Box">
      </div>
      <div class="back">
        <img src="images/moo-and-mom.png.png" alt="Moo and his mom">
      </div>
    </div>
  </div>
  <!-- Motivational statement Card-->
  <div class="card">
    <div class="inner">
      <div class="front">
        <h3>When you grow up, remember you’ve always been a king 👑! 😉</h3>
        <img src="images/gift-cover.jpeg" alt="Gift Box">
      </div>
      <div class="back">
        <img src="images/king-moo.jpeg" alt="King Lear">
      </div>
    </div>
  </div>
  <!-- Real gift Card-->
  <div class="card" id="real-gift">
    <div class="inner">
      <div class="front">
        <h3>Finally! Guess your gift 🎁! 🤩🤩🤩</h3>
        <img src="images/gift-cover.jpeg" alt="Gift Box">
      </div>
      <div class="back">
        <img src="images/hoverboard-gift.jpg" alt="hover board">
      </div>
    </div>
  </div>

  <audio id="bg-music" src="audios/birthday-music.mp3" loop></audio>
  <button id="music-btn" class="music-btn paused">🔇</button>
  <audio id="flip-sound" src="audios/flip-sound.mp3"></audio>

  <script>

    const cards = document.querySelectorAll('.card');
    const flipSound = document.getElementById('flip-sound');

    cards.forEach(card => {
      card.addEventListener('click', () => {
        flipSound.currentTime = 0;
        flipSound.play();

        card.classList.toggle('flipped');

        const video = card.querySelector('video');
        if (video) {
          if (card.classList.contains('flipped')) {
            video.currentTime = 0;
            video.play().catch(err => console.log("Autoplay blocked:", err));
          } else {
            video.pause();
          }
        }
      });
    });

    const music = document.getElementById("bg-music");
    const btn = document.getElementById("music-btn");
    let isPlaying = false;

    window.addEventListener("load", () => {
      btn.classList.add("wiggle");
      setTimeout(() => btn.classList.remove("wiggle"), 2000);
    });

    btn.addEventListener("click", () => {
      if (!isPlaying) {
        music.volume = 0.2;
        music.play().catch(err => console.log("Autoplay blocked"));
        btn.textContent = "🔊";
        btn.classList.remove("paused");
        btn.classList.add("playing");
        isPlaying = true;
      } else {
        music.pause();
        btn.textContent = "🔇";
        btn.classList.remove("playing");
        btn.classList.add("paused");
        isPlaying = false;
      }
    });
  </script>

</body>

</html>